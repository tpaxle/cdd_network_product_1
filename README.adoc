= Arista Automation (Ansible AVD - Deploy & Operation) CAN
:authors: Network ENGINEERING; SDN Core
:doctype: book
:toc: center
:toclevels: 4
:pagenums:
:icons: font
:source-highlighter: rouge
:rouge-style: monokai
:jarvis-version: 1.0
:imagesdir: ./images
:title-logo-image: {imagesdir}/almmc.png

== Project

This is an inventory Ansible project that could be used with https://github.com/cloud-competence-center/sdn-ansible-network-ohe[sdn-ansible-network-ohe] project. The current project contains the current configuration of
CAN environment. This repo could be used with all the standard roles developed for Santander Global Tech.

Below is described the work structure used on the git repo:

	• A folder for all your inventories with one sub-folder per inventory. An inventory folder contains all your variables for a given environment like host_vars, group_vars, inventory.yml
	• A folder to store all playbooks. So it is easy to reuse playbooks whatever the inventory is (if you use a coherent syntax)
	• ansible.cfg at the root of this repository
  • Gemfile at the root with the configuration to create asciidoctor to pdf files.

    .
    ├── ansible.cfg
    ├── Gemfile
    ├── Gemfile.lock
    ├── inventory
    │   ├── group_vars
    │   │   ├── all
    │   │   ├── AZ1_MGNT
    │   │   ├── AZ1_TENANTS
    │   │   ├── AZ2_MGNT
    │   │   ├── AZ2_TENANTS
    │   │   ├── GLOBAL
    │   │   └── CAN.yml
    │   ├── host_vars
    │   │   ├── cv_server.yml
    │   │   └── cv_ztp.yml
    │   └── inventory.yml
    └── README.adoc


This project is part of all the automation framework for onpremises devices:
[vertical]
Playbooks and roles:: Core with all the playbooks and roles for network; repo: https://github.com/cloud-competence-center/sdn-ansible-network-ohe[sdn-ansible-network-ohe]
Inventory OHE CAN:: Inventory with Cantabria  Seed invetory; repo: https://github.com/cloud-competence-center/sdn-ansible-inventory-ohe-can[sdn-ansible-inventory-ohe-can]
Inventory OHE BOA:: Inventory with Cantabria  Seed invetory; repo: https://github.com/cloud-competence-center/sdn-ansible-inventory-ohe-can[sdn-ansible-inventory-ohe-boa[sdn-ansible-inventory-ohe-boa]
Inventory OHE CTO:: Inventory with Cantabria  Seed invetory; repo: https://github.com/cloud-competence-center/sdn-ansible-inventory-ohe-can[sdn-ansible-inventory-ohe-cto[sdn-ansible-inventory-ohe-cto]
Inventory OHE CHI:: Inventory with Cantabria  Seed invetory; repo: https://github.com/cloud-competence-center/sdn-ansible-inventory-ohe-can[sdn-ansible-inventory-ohe-chi][sdn-ansible-inventory-ohe-chi]
Inventory OHE STGN::  Inventory with Cantabria  Seed invetory; repo: https://github.com/cloud-competence-center/sdn-ansible-inventory-ohe-can[sdn-ansible-inventory-ohe-stgn-can][sdn-ansible-inventory-ohe-stgn-can]
Inventory Gravity UK:: Inventory with Cantabria  Seed invetory; repo: [sdn-ansible-inventory-gravity-uk-pro]

== Devices

Hosts information:
[%header,cols=6*]
|===
|AZ
|HOSTNAME
|ManagementIP
|Model
|version
|Serial Number

|AZ1
|SWCCCMGMTCANN01
|N/A
|DCS-7010T-48-R
|4.26.4M
|JPE18280316

|AZ1
|SWCCCMGMTCANN02
|N/A
|DCS-7010T-48-R
|4.26.4M
|JPE20353565

|AZ1
|SWCCCMGMTCANN03
|N/A
|DCS-7010T-48-R
|4.26.4M
|JPE20265549

|AZ1
|SWCCCMGMTBKCANN01
|N/A
|DCS-7010T-48-R
|4.26.4M
|SSJ18231721

|AZ1
|SWCCCSPINECANN01
|172.28.64.2
|DCS-7260CX3-64-R
|4.26.4M
|JPE18333511

|AZ1
|SWCCCSPINECANN02
|172.28.64.3
|DCS-7260CX3-64-R
|4.26.4M
|JPE18333553

|AZ1
|SWOHESPINECANN01
|172.28.64.8
|DCS-7260CX3-64E-R
|4.26.4M
|SSJ18371747

|AZ1
|SWCCCELEAFCANN01
|172.28.64.7
|DCS-7280SR2-48YC6-M-R
|4.26.4M
|JPE20192064

|AZ1
|SWCCCELEAFCANN02
|172.28.64.13
|DCS-7280SR2-48YC6-M-R
|4.26.4M
|JPE20192226

|AZ1
|SWCCCBLEAFCANN01
|172.28.64.4
|DCS-7280SRA-48C6-M-R
|4.23.6M
|JPE18060442

|AZ1
|SWCCCBLEAFCANN02
|172.28.64.5
|DCS-7280QRA-C36S-M-R
|4.23.6M
|SSJ18223675

|AZ1
|SWCCCBLEAFBKCANN01
|172.28.65.162
|DCS-7060SX2-48YC6-R
|4.26.4M
|JPE19050472

|AZ1
|SWCCCBLEAFBKCANN02
|172.28.65.163
|DCS-7060SX2-48YC6-R
|4.26.4M
|JPE19050474

|AZ1
|SWOHEHWLPOD1CANN01
|172.28.79.5
|DCS-7280SR3-48YC8-R
|4.26.4M
|JPE21081504

|AZ1
|SWOHEHWLPOD1CANN02
|172.28.87.4
|DCS-7280SR3-48YC8-R
|4.26.4M
|JPE21081442

|AZ1
|SWBDOHELEAFVAZ1CANN01
|172.28.64.6
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20270896

|AZ1
|SWBDOHELEAFVAZ1CANN02
|172.28.79.2
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20270911

|AZ1
|SWBDOHELEAFVAZ1CANS01
|172.28.96.6
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20270984

|AZ1
|SWBDOHELEAFVAZ1CANS02
|172.28.111.2
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20271052

|AZ1
|SWOHELEAFPOD1CANN01
|172.28.64.9
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20280488

|AZ1
|SWOHELEAFPOD1CANN02
|172.28.64.10
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20280910

|AZ1
|SWOHELEAFPOD1CANS01
|172.28.64.9
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20280488

|AZ1
|SWOHELEAFPOD1CANS02
|172.28.64.10
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20280910

|AZ1
|SWOHELEAFPOD2CANN01
|172.28.64.11
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20280526

|AZ1
|SWOHELEAFPOD2CANN02
|172.28.64.12
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20280687

|AZ1
|SWOHELEAFPOD2CANS01
|172.28.96.11
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20290081

|AZ1
|SWOHELEAFPOD2CANS02
|172.28.96.12
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20290106

|AZ1
|SWOHELEAFPOD3CANN01
|172.28.79.4
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20280827

|AZ1
|SWOHELEAFPOD3CANN02
|172.28.87.3
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20280896

|AZ1
|SWOHELEAFPOD3CANS01
|172.28.111.4
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20290107

|AZ1
|SWOHELEAFPOD3CANS02
|172.28.119.3
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20290177


|AZ2
|SWCCCMGMTCANS01
|N/A
|DCS-7010T-48-R
|4.26.4M
|JPE18261449

|AZ2
|SWOHEMGMTCANS02
|N/A
|DCS-7010T-48-R
|4.26.4M
|JPE20353928

|AZ2
|SWOHEMGMTCANS03
|N/A
|DCS-7010T-48-R
|4.26.4M
|JPE20234853

|AZ2
|SWCCCMGMTBKCANS01
|N/A
|DCS-7010T-48-R
|4.26.4M
|JPE18420367

|AZ2
|SWCCCSPINECANS01
|172.28.96.2
|DCS-7260CX3-64-R
|4.26.4M
|JPE18330115

|AZ2
|SWCCCSPINECANS02
|172.28.96.3
|DCS-7260CX3-64-R
|4.26.4M
|JPE18333493

|AZ2
|SWOHESPINECANS01
|172.28.96.8
|DCS-7260CX3-64E-R
|4.26.4M
|SSJ18371769

|AZ2
|SWOHESPINECANS02
|172.28.111.3
|DCS-7260CX3-64E-R
|4.26.4M
|JPE20351488

|AZ2
|SWCCCELEAFCANS01
|172.28.96.7
|DCS-7280SR2-48YC6-M-R
|4.26.4M
|JPE20192043

|AZ2
|SWCCCELEAFCANS02
|172.28.96.13
|DCS-7280SR2-48YC6-M-R
|4.26.4M
|JPE20183559

|AZ2
|SWCCCBLEAFCANS01
|172.28.96.4
|DCS-7280SRA-48C6-M-R
|4.23.6M
|SSJ17370721

|AZ2
|SWCCCBLEAFCANS02
|172.28.96.5
|DCS-7280QRA-C36S-M-R
|4.23.6M
|SSJ18223667

|AZ2
|SWCCCBLEAFBKCANS01
|172.28.97.162
|DCS-7060SX2-48YC6-R
|4.26.4M
|JPE19050468

|AZ2
|SWCCCBLEAFBKCANS02
|172.28.97.163
|DCS-7060SX2-48YC6-R
|4.26.4M
|JPE19050473

|AZ2
|SWBDOHELEAFVAZ1CANN01
|172.28.64.6
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20270896

|AZ2
|SWBDOHELEAFVAZ1CANN02
|172.28.79.2
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20270911

|AZ2
|SWBDOHELEAFVAZ1CANS01
|172.28.96.6
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20270984

|AZ2
|SWBDOHELEAFVAZ1CANS02
|172.28.111.2
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20271052

|AZ2
|SWOHELEAFPOD1CANN01
|172.28.64.9
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20280488

|AZ2
|SWOHELEAFPOD1CANN02
|172.28.64.10
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20280910

|AZ2
|SWOHELEAFPOD1CANS01
|172.28.64.9
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20280488

|AZ2
|SWOHELEAFPOD1CANS02
|172.28.64.10
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20280910

|AZ2
|SWOHELEAFPOD2CANN01
|172.28.64.11
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20280526

|AZ2
|SWOHELEAFPOD2CANN02
|172.28.64.12
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20280687

|AZ2
|SWOHELEAFPOD2CANS01
|172.28.96.11
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20290081

|AZ2
|SWOHELEAFPOD2CANS02
|172.28.96.12
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20290106

|AZ2
|SWOHELEAFPOD3CANN01
|172.28.79.4
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20280827

|AZ2
|SWOHELEAFPOD3CANN02
|172.28.87.3
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20280896

|AZ2
|SWOHELEAFPOD3CANS01
|172.28.111.4
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20290107

|AZ2
|SWOHELEAFPOD3CANS02
|172.28.119.3
|DCS-7050CX3-32S-R
|4.26.4M
|JPW20290177


|===

== VXLAN VTEP Information

Hosts information:
[%header,cols=3*]
|===
|AZ
|HOSTNAME
|VTEP

|AZ1
|SWCCCMGMTCANN01
|10.202.0.69

|AZ1
|SWCCCMGMTCANN02
|N/A

|AZ1
|SWCCCMGMTCANN03
|N/A

|AZ1
|SWCCCMGMTBKCANN01
|N/A

|AZ1
|SWCCCSPINECANN01
|180.156.0.32

|AZ1
|SWCCCSPINECANN02
|180.156.0.32

|AZ1
|SWOHESPINECANN01
|N/A

|AZ1
|SWCCCELEAFCANN01
|10.202.0.72

|AZ1
|SWCCCELEAFCANN02
|10.202.0.72

|AZ1
|SWCCCBLEAFCANN01
|10.202.0.67

|AZ1
|SWCCCBLEAFCANN02
|10.202.0.68

|AZ1
|SWCCCBLEAFBKCANN01
|10.202.0.127

|AZ1
|SWCCCBLEAFBKCANN02
|10.202.0.127

|AZ1
|SWOHEHWLPOD1CANN01
|10.202.0.75

|AZ1
|SWOHEHWLPOD1CANN02
|10.202.0.75

|AZ1
|SWBDOHELEAFVAZ1CANN01
|10.202.0.70

|AZ1
|SWBDOHELEAFVAZ1CANN02
|10.202.0.70

|AZ1
|SWBDOHELEAFVAZ1CANS01
|10.203.0.70

|AZ1
|SWBDOHELEAFVAZ1CANS02
|10.203.0.70

|AZ1
|SWOHELEAFPOD1CANN01
|10.202.0.73

|AZ1
|SWOHELEAFPOD1CANN02
|10.202.0.73

|AZ1
|SWOHELEAFPOD1CANS01
|10.202.0.73

|AZ1
|SWOHELEAFPOD1CANS02
|10.202.0.73

|AZ1
|SWOHELEAFPOD2CANN01
|10.202.0.76

|AZ1
|SWOHELEAFPOD2CANN02
|10.202.0.76

|AZ1
|SWOHELEAFPOD2CANS01
|10.203.0.76

|AZ1
|SWOHELEAFPOD2CANS02
|10.203.0.76

|AZ1
|SWOHELEAFPOD3CANN01
|10.202.0.74

|AZ1
|SWOHELEAFPOD3CANN02
|10.202.0.74

|AZ1
|SWOHELEAFPOD3CANS01
|10.203.0.74

|AZ1
|SWOHELEAFPOD3CANS02
|10.203.0.74


|AZ2
|SWCCCMGMTCANS01
|10.203.0.69

|AZ2
|SWOHEMGMTCANS02
|N/A

|AZ2
|SWOHEMGMTCANS03
|N/A

|AZ2
|SWCCCMGMTBKCANS01
|N/A

|AZ2
|SWCCCSPINECANS01
|180.156.0.48

|AZ2
|SWCCCSPINECANS02
|180.156.0.48

|AZ2
|SWOHESPINECANS01
|N/A

|AZ2
|SWOHESPINECANS02
|N/A

|AZ2
|SWCCCELEAFCANS01
|10.203.0.72

|AZ2
|SWCCCELEAFCANS02
|10.203.0.72

|AZ2
|SWCCCBLEAFCANS01
|10.203.0.67

|AZ2
|SWCCCBLEAFCANS02
|10.203.0.68

|AZ2
|SWCCCBLEAFBKCANS01
|10.203.0.127

|AZ2
|SWCCCBLEAFBKCANS02
|10.203.0.127

|AZ2
|SWBDOHELEAFVAZ1CANN01
|10.202.0.70

|AZ2
|SWBDOHELEAFVAZ1CANN02
|10.202.0.70

|AZ2
|SWBDOHELEAFVAZ1CANS01
|10.203.0.70

|AZ2
|SWBDOHELEAFVAZ1CANS02
|10.203.0.70

|AZ2
|SWOHELEAFPOD1CANN01
|10.202.0.73

|AZ2
|SWOHELEAFPOD1CANN02
|10.202.0.73

|AZ2
|SWOHELEAFPOD1CANS01
|10.202.0.73

|AZ2
|SWOHELEAFPOD1CANS02
|10.202.0.73

|AZ2
|SWOHELEAFPOD2CANN01
|10.202.0.76

|AZ2
|SWOHELEAFPOD2CANN02
|10.202.0.76

|AZ2
|SWOHELEAFPOD2CANS01
|10.203.0.76

|AZ2
|SWOHELEAFPOD2CANS02
|10.203.0.76

|AZ2
|SWOHELEAFPOD3CANN01
|10.202.0.74

|AZ2
|SWOHELEAFPOD3CANN02
|10.202.0.74

|AZ2
|SWOHELEAFPOD3CANS01
|10.203.0.74

|AZ2
|SWOHELEAFPOD3CANS02
|10.203.0.74


|===


== FAQ

=== How to use this repo:

1. Clone the playbooks repository

```
git clone https://github.com/cloud-competence-center/sdn-ansible-network-ohe.git
```

2. Clone this repo inside the folder of the playbooks repository.
```
git clone https://github.com/cloud-competence-center/sdn-ansible-inventory-ohe-can.git
```

3. Execute playbooks
```
ansible-playbook playbooks/roles/arista/arista_create_doc.yml -e listSwitches=GLOBAL
```





=== Useful Git commands

**Clone repository into you local directory.**
```
git clone https://github.alm.europe.cloudcenter.corp/ccc-csmo-tools/sdn-playbook-arista-ohe.git
git clone https://github.alm.europe.cloudcenter.corp/ccc-csmo-tools/arista-automation-ohe-dallas-prod.git
```
**Check git repo status**
```
git status
```
**Fetches a specific branch from repo**
```
git fetch
```
**List all of the branches in your repo.**
```
git branch --all
```
**Create and check out a new branch named.**
```
git checkout origin/devel
```
**Fetch the specified remote’s copy of current branch and immediately merge it into the local copy**
```
git pull
```
**Disable ssl certificate. **
```
git config --global http.sslVerify false
```
**Store credentials.**
```
git config --global credential.helper 'cache --timeout=600'
git config --global credential.helper cache
git config --global credential.helper store
```
